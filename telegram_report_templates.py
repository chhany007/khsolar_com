"""
Dual Language Report Templates (English/Khmer)
For KHSolar Telegram Bot
"""

CONTACT_INFO_EN = """
ğŸ“ <b>Contact Us - Free Consultation</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“± Call: 0888836588
ğŸ’¬ Telegram: @chhanycls
ğŸ• Available anytime for free consultation!
"""

CONTACT_INFO_KH = """
ğŸ“ <b>á‘áŸ†á“á¶á€áŸ‹á‘áŸ†á“á„á–á½á€á™á¾á„ - á–á·á‚áŸ’ášáŸ„áŸ‡á™áŸ„á”á›áŸ‹á¥áá‚á·áááŸ’á›áŸƒ</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“± á‘á¼ášáŸáŸá–áŸ’á‘: 0888836588
ğŸ’¬ ááŸá¡áŸá€áŸ’ášá¶á˜: @chhanycls
ğŸ• á¢á¶á…á‘áŸ†á“á¶á€áŸ‹á‘áŸ†á“á„á”á¶á“á‚áŸ’ášá”áŸ‹á–áŸá› á–á·á‚áŸ’ášáŸ„áŸ‡á™áŸ„á”á›áŸ‹á¥áá‚á·áááŸ’á›áŸƒ!
"""

def format_report_english(data):
    """Format report in English"""
    
    backup_hours = 0
    if data.get('battery_kwh', 0) > 0 and data.get('daily_kwh', 0) > 0:
        backup_hours = (data['battery_kwh'] * 0.8) / (data['daily_kwh'] / 24)
    
    report = f"""
ğŸŒ <b>KHSolar System Report</b>

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘¤ <b>Customer Information</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>Name:</b> {data.get('customer_name', 'N/A')}
<b>Phone:</b> {data.get('phone', 'N/A')}
<b>Location:</b> {data.get('address', 'Cambodia')}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš¡ <b>System Overview</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>Monthly Consumption:</b> {data.get('monthly_kwh', 0):.0f} kWh
<b>Daily Average:</b> {data.get('daily_kwh', 0):.1f} kWh
<b>System Type:</b> {data.get('system_type', 'N/A')}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â˜€ï¸ <b>Solar Panels</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>Quantity:</b> {data.get('num_panels', 0)} panels
<b>Power per Panel:</b> {data.get('panel_wattage', 0)}W
<b>Total Capacity:</b> {data.get('pv_kw', 0):.2f} kW
<b>Monthly Generation:</b> ~{data.get('pv_generation', 0):.0f} kWh

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”‹ <b>Battery Storage</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>Total Capacity:</b> {data.get('battery_kwh', 0):.2f} kWh
<b>Usable Capacity:</b> {data.get('battery_kwh', 0) * 0.8:.2f} kWh (80% DoD)
<b>Backup Time:</b> ~{backup_hours:.1f} hours
<b>Units:</b> {data.get('num_batteries', 0)}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš¡ <b>Inverter</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>Power Rating:</b> {data.get('inverter_kw', 0):.1f} kW
<b>Type:</b> {data.get('system_type', 'N/A')}
<b>Efficiency:</b> 97%

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’° <b>Investment Details</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>ğŸ’ TOTAL SYSTEM PRICE</b>
<b>${data.get('total_price', 0):,.2f}</b>

<b>Monthly Savings:</b> ${data.get('monthly_savings', 0):,.2f}
<b>Annual Savings:</b> ${data.get('annual_savings', 0):,.2f}
<b>Payback Period:</b> {data.get('payback_years', 0):.1f} years

âš ï¸ <b>Note:</b> The total price can be less or more, this is generated by software. We highly recommend you to call or message for real prices and consultation.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š <b>System Benefits</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Reduce electricity bills by ~{(data.get('annual_savings', 0) / (data.get('monthly_kwh', 1) * 12 * 0.20)) * 100:.0f}%
âœ… Clean, renewable energy
âœ… Energy independence
âœ… Increase property value
âœ… 25+ year solar panel lifespan

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

{CONTACT_INFO_EN}

<i>Generated by KHSolar System Designer</i>
<i>Report Date: {data.get('date', 'N/A')}</i>
"""
    return report


def format_report_khmer(data):
    """Format report in Khmer"""
    
    backup_hours = 0
    if data.get('battery_kwh', 0) > 0 and data.get('daily_kwh', 0) > 0:
        backup_hours = (data['battery_kwh'] * 0.8) / (data['daily_kwh'] / 24)
    
    report = f"""
ğŸŒ <b>ášá”á¶á™á€á¶ášááŸá”áŸ’ášá–áŸá“áŸ’á’áá¶á˜á–á›á–áŸ’ášáŸ‡á¢á¶á‘á·ááŸ’á™ KHSolar</b>

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘¤ <b>á–áŸááŸŒá˜á¶á“á¢áá·áá·á‡á“</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>áˆáŸ’á˜áŸ„áŸ‡:</b> {data.get('customer_name', 'N/A')}
<b>á›áŸáá‘á¼ášáŸáŸá–áŸ’á‘:</b> {data.get('phone', 'N/A')}
<b>á‘á¸áá¶áŸ†á„:</b> {data.get('address', 'á€á˜áŸ’á–á»á‡á¶')}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš¡ <b>á‘á·áŠáŸ’á‹á—á¶á–á‘á¼á‘áŸ…á“áŸƒá”áŸ’ášá–áŸá“áŸ’á’</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>á€á¶ášá”áŸ’ášá¾á”áŸ’ášá¶áŸáŸ‹á”áŸ’ášá…á¶áŸ†ááŸ‚:</b> {data.get('monthly_kwh', 0):.0f} kWh
<b>á˜á’áŸ’á™á˜á”áŸ’ášá…á¶áŸ†ááŸ’á„áŸƒ:</b> {data.get('daily_kwh', 0):.1f} kWh
<b>á”áŸ’ášá—áŸá‘á”áŸ’ášá–áŸá“áŸ’á’:</b> {data.get('system_type', 'N/A')}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â˜€ï¸ <b>á”á“áŸ’á‘áŸ‡áá¶á˜á–á›á–áŸ’ášáŸ‡á¢á¶á‘á·ááŸ’á™</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>á”ášá·á˜á¶á:</b> {data.get('num_panels', 0)} á”á“áŸ’á‘áŸ‡
<b>á€á˜áŸ’á›á¶áŸ†á„á€áŸ’á“á»á„á˜á½á™á”á“áŸ’á‘áŸ‡:</b> {data.get('panel_wattage', 0)}W
<b>áŸá˜ááŸ’áá—á¶á–áŸášá»á”:</b> {data.get('pv_kw', 0):.2f} kW
<b>á€á¶ášá•á›á·áá”áŸ’ášá…á¶áŸ†ááŸ‚:</b> ~{data.get('pv_generation', 0):.0f} kWh

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”‹ <b>á”áŸ’ášá–áŸá“áŸ’á’á•áŸ’á‘á»á€áá¶á˜á–á› (Battery)</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>áŸá˜ááŸ’áá—á¶á–áŸášá»á”:</b> {data.get('battery_kwh', 0):.2f} kWh
<b>áŸá˜ááŸ’áá—á¶á–á¢á¶á…á”áŸ’ášá¾á”á¶á“:</b> {data.get('battery_kwh', 0) * 0.8:.2f} kWh (80% DoD)
<b>á–áŸá›áœáŸá›á¶á”á˜áŸ’ášá»á„á‘á»á€:</b> ~{backup_hours:.1f} á˜áŸ‰áŸ„á„
<b>á…áŸ†á“á½á“á‚áŸ’ášá¿á„:</b> {data.get('num_batteries', 0)}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš¡ <b>á§á”á€ášááŸá”áŸ†á›áŸ‚á„áá¶á˜á–á› (Inverter)</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>á€á˜áŸ’á›á¶áŸ†á„:</b> {data.get('inverter_kw', 0):.1f} kW
<b>á”áŸ’ášá—áŸá‘:</b> {data.get('system_type', 'N/A')}
<b>á”áŸ’ášáŸá·á‘áŸ’á’á—á¶á–:</b> 97%

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’° <b>á–áŸááŸŒá˜á¶á“á€á¶ášáœá·á“á·á™áŸ„á‚</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>ğŸ’ áá˜áŸ’á›áŸƒá”áŸ’ášá–áŸá“áŸ’á’áŸášá»á”</b>
<b>${data.get('total_price', 0):,.2f}</b>

<b>áŸá“áŸ’áŸáŸ†á”áŸ’ášá…á¶áŸ†ááŸ‚:</b> ${data.get('monthly_savings', 0):,.2f}
<b>áŸá“áŸ’áŸáŸ†á”áŸ’ášá…á¶áŸ†á†áŸ’á“á¶áŸ†:</b> ${data.get('annual_savings', 0):,.2f}
<b>ášá™áŸˆá–áŸá›áŸá„ááŸ’ášá¡á”áŸ‹:</b> {data.get('payback_years', 0):.1f} á†áŸ’á“á¶áŸ†

âš ï¸ <b>á…áŸ†áá¶áŸ†:</b> áá˜áŸ’á›áŸƒáŸášá»á”á¢á¶á…áá·á…á¬á…áŸ’ášá¾á“ á“áŸáŸ‡á”á„áŸ’á€á¾ááŠáŸ„á™á€á˜áŸ’á˜áœá·á’á¸áŸ” á™á¾á„áŸá¼á˜ááŸ‚á“á¶áŸ†á±áŸ’á™á¢áŸ’á“á€á‘á¼ášáŸáŸá–áŸ’á‘ á¬á•áŸ’á‰á¾áŸá¶ášáŸá˜áŸ’ášá¶á”áŸ‹áá˜áŸ’á›áŸƒá–á·áá”áŸ’ášá¶á€áŠ á“á·á„á€á¶ášá”áŸ’ášá¹á€áŸ’áŸá¶áŸ”

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š <b>á¢ááŸ’áá”áŸ’ášá™áŸ„á‡á“áŸá”áŸ’ášá–áŸá“áŸ’á’</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… á”á“áŸ’áá™á€á¶ášá…áŸ†áá¶á™á¢á‚áŸ’á‚á·áŸá“á¸ ~{(data.get('annual_savings', 0) / (data.get('monthly_kwh', 1) * 12 * 0.20)) * 100:.0f}%
âœ… áá¶á˜á–á›áŸáŸ’á¢á¶á á“á·á„á”ášá·áŸáŸ’áá¶á“
âœ… á¯á€ášá¶á‡áŸ’á™á—á¶á–áá¶á˜á–á›
âœ… á”á„áŸ’á€á¾á“áá˜áŸ’á›áŸƒá¢á…á›á“á‘áŸ’ášá–áŸ’á™
âœ… á”á“áŸ’á‘áŸ‡áá¶á˜á–á›á¢á¶á…á”áŸ’ášá¾á”á¶á“á‡á¶á„ 25 á†áŸ’á“á¶áŸ†

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

{CONTACT_INFO_KH}

<i>á”á„áŸ’á€á¾ááŠáŸ„á™ KHSolar System Designer</i>
<i>á€á¶á›á”ášá·á…áŸ’á†áŸá‘ášá”á¶á™á€á¶ášááŸ: {data.get('date', 'N/A')}</i>
"""
    return report


def format_report_bilingual(data):
    """Format report with both English and Khmer"""
    
    backup_hours = 0
    if data.get('battery_kwh', 0) > 0 and data.get('daily_kwh', 0) > 0:
        backup_hours = (data['battery_kwh'] * 0.8) / (data['daily_kwh'] / 24)
    
    report = f"""
ğŸŒ <b>KHSolar System Report | ášá”á¶á™á€á¶ášááŸá”áŸ’ášá–áŸá“áŸ’á’áá¶á˜á–á›á–áŸ’ášáŸ‡á¢á¶á‘á·ááŸ’á™</b>

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘¤ <b>Customer Information | á–áŸááŸŒá˜á¶á“á¢áá·áá·á‡á“</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>Name | áˆáŸ’á˜áŸ„áŸ‡:</b> {data.get('customer_name', 'N/A')}
<b>Phone | á›áŸáá‘á¼ášáŸáŸá–áŸ’á‘:</b> {data.get('phone', 'N/A')}
<b>Location | á‘á¸áá¶áŸ†á„:</b> {data.get('address', 'Cambodia | á€á˜áŸ’á–á»á‡á¶')}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš¡ <b>System Overview | á‘á·áŠáŸ’á‹á—á¶á–á‘á¼á‘áŸ…</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>Monthly | á”áŸ’ášá…á¶áŸ†ááŸ‚:</b> {data.get('monthly_kwh', 0):.0f} kWh
<b>Daily | á”áŸ’ášá…á¶áŸ†ááŸ’á„áŸƒ:</b> {data.get('daily_kwh', 0):.1f} kWh
<b>Type | á”áŸ’ášá—áŸá‘:</b> {data.get('system_type', 'N/A')}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â˜€ï¸ <b>Solar Panels | á”á“áŸ’á‘áŸ‡áá¶á˜á–á›á–áŸ’ášáŸ‡á¢á¶á‘á·ááŸ’á™</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>Quantity | á”ášá·á˜á¶á:</b> {data.get('num_panels', 0)} panels | á”á“áŸ’á‘áŸ‡
<b>Power | á€á˜áŸ’á›á¶áŸ†á„:</b> {data.get('panel_wattage', 0)}W per panel | á€áŸ’á“á»á„á˜á½á™á”á“áŸ’á‘áŸ‡
<b>Total Capacity | áŸá˜ááŸ’áá—á¶á–:</b> {data.get('pv_kw', 0):.2f} kW
<b>Monthly Generation | á€á¶ášá•á›á·á:</b> ~{data.get('pv_generation', 0):.0f} kWh

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”‹ <b>Battery | á”áŸ’ášá–áŸá“áŸ’á’á•áŸ’á‘á»á€áá¶á˜á–á›</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>Capacity | áŸá˜ááŸ’áá—á¶á–:</b> {data.get('battery_kwh', 0):.2f} kWh
<b>Usable | á¢á¶á…á”áŸ’ášá¾á”á¶á“:</b> {data.get('battery_kwh', 0) * 0.8:.2f} kWh (80% DoD)
<b>Backup | á”á˜áŸ’ášá»á„á‘á»á€:</b> ~{backup_hours:.1f} hours | á˜áŸ‰áŸ„á„
<b>Units | á…áŸ†á“á½á“:</b> {data.get('num_batteries', 0)}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš¡ <b>Inverter | á§á”á€ášááŸá”áŸ†á›áŸ‚á„áá¶á˜á–á›</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>Power | á€á˜áŸ’á›á¶áŸ†á„:</b> {data.get('inverter_kw', 0):.1f} kW
<b>Type | á”áŸ’ášá—áŸá‘:</b> {data.get('system_type', 'N/A')}
<b>Efficiency | á”áŸ’ášáŸá·á‘áŸ’á’á—á¶á–:</b> 97%

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’° <b>Investment | á€á¶ášáœá·á“á·á™áŸ„á‚</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<b>ğŸ’ TOTAL PRICE | áá˜áŸ’á›áŸƒáŸášá»á”</b>
<b>${data.get('total_price', 0):,.2f}</b>

<b>Monthly Savings | áŸá“áŸ’áŸáŸ†á”áŸ’ášá…á¶áŸ†ááŸ‚:</b> ${data.get('monthly_savings', 0):,.2f}
<b>Annual Savings | áŸá“áŸ’áŸáŸ†á”áŸ’ášá…á¶áŸ†á†áŸ’á“á¶áŸ†:</b> ${data.get('annual_savings', 0):,.2f}
<b>Payback Period | ášá™áŸˆá–áŸá›áŸá„ááŸ’ášá¡á”áŸ‹:</b> {data.get('payback_years', 0):.1f} years | á†áŸ’á“á¶áŸ†

âš ï¸ <b>Note | á…áŸ†áá¶áŸ†:</b> The total price can be less or more, this is generated by software. We highly recommend you to call or message for real prices and consultation. | áá˜áŸ’á›áŸƒáŸášá»á”á¢á¶á…áá·á…á¬á…áŸ’ášá¾á“ á“áŸáŸ‡á”á„áŸ’á€á¾ááŠáŸ„á™á€á˜áŸ’á˜áœá·á’á¸áŸ” á™á¾á„áŸá¼á˜ááŸ‚á“á¶áŸ†á±áŸ’á™á¢áŸ’á“á€á‘á¼ášáŸáŸá–áŸ’á‘ á¬á•áŸ’á‰á¾áŸá¶ášáŸá˜áŸ’ášá¶á”áŸ‹áá˜áŸ’á›áŸƒá–á·áá”áŸ’ášá¶á€áŠ á“á·á„á€á¶ášá”áŸ’ášá¹á€áŸ’áŸá¶áŸ”

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š <b>Benefits | á¢ááŸ’áá”áŸ’ášá™áŸ„á‡á“áŸ</b>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Reduce bills by | á”á“áŸ’áá™ááŸ’á›áŸƒ ~{(data.get('annual_savings', 0) / (data.get('monthly_kwh', 1) * 12 * 0.20)) * 100:.0f}%
âœ… Clean energy | áá¶á˜á–á›áŸáŸ’á¢á¶á
âœ… Energy independence | á¯á€ášá¶á‡áŸ’á™á—á¶á–áá¶á˜á–á›
âœ… 25+ years lifespan | á”áŸ’ášá¾á”á¶á“á‡á¶á„ 25 á†áŸ’á“á¶áŸ†

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

{CONTACT_INFO_EN}

{CONTACT_INFO_KH}

<i>Generated by KHSolar System Designer</i>
<i>Report Date | á€á¶á›á”ášá·á…áŸ’á†áŸá‘: {data.get('date', 'N/A')}</i>
"""
    return report
